# Story 1.1: Project Initialization & Configuration

## Status
- Ready for Review

## Story
**As a** developer,
**I want** a standard Go module structure and a robust configuration loading mechanism,
**so that** I can easily manage dependencies and configure the service for different environments.

## Acceptance Criteria
1. A new Go module is initialized and a directory structure matching the project brief is created.
2. A `Config` struct is defined to hold all required configuration values (`KubeviewURL`, `Neo4jURI`, `Neo4jUser`, `Neo4jPassword`, `ClientID`).
3. A function is implemented to load these configuration values from environment variables.
4. Unit tests exist to verify that configuration is loaded correctly from environment variables.
5. The application can be run and it will successfully load configuration without errors.

## Tasks / Subtasks
- [x] Task 1: Initialize Go Module and Scaffold Directory Structure (AC: 1)
  - [x] Run `go mod init kube-kg` in the project root.
  - [x] Create the directory structure as defined in `docs/architecture/09-source-tree.md`.
    - [x] `cmd/kube-kg/main.go`
    - [x] `internal/config/config.go`
- [x] Task 2: Implement Configuration Loading (AC: 2, 3)
  - [x] Define the `Config` struct in `internal/config/config.go` with fields for `KubeviewURL`, `Neo4jURI`, `Neo4jUser`, `Neo4jPassword`, `ClientID`.
  - [x] Implement a `LoadConfig()` function in `internal/config/config.go` that reads environment variables to populate the `Config` struct.
- [x] Task 3: Write Unit Tests for Configuration (AC: 4)
  - [x] Create `internal/config/config_test.go`.
  - [x] Write a unit test to verify that `LoadConfig()` correctly populates the `Config` struct from a set of mock environment variables.
- [x] Task 4: Implement Main Application Entrypoint (AC: 5)
  - [x] In `cmd/kube-kg/main.go`, add a `main` function.
  - [x] Call the `config.LoadConfig()` function from `main`.
  - [x] Log the loaded configuration to confirm it works (using `slog` as per coding standards).

## Dev Notes

### File Locations & Structure
The project structure should follow the blueprint outlined in the architecture. Key files for this story are:
- `go.mod` (New)
- `cmd/kube-kg/main.go` (New)
- `internal/config/config.go` (New)
- `internal/config/config_test.go` (New)

[Source: docs/architecture/09-source-tree.md]

### Configuration Management
- All configuration must be loaded from environment variables.
- The `Config` struct should be defined in the `internal/config` package.

[Source: docs/prd/epic-1-foundation-core-connectivity.md]

### Coding Standards
- **Language:** Go 1.24.6
- **Formatting:** `gofmt` must be used.
- **Linting:** `golangci-lint` should be used.
- **Globals:** No global variables are permitted. State should be managed in structs.
- **Initialization:** No `init()` functions. Explicit initialization in `main()`.
- **Logging:** Use `slog` for all logging. The standard `log` package is forbidden.

[Source: docs/architecture/12-coding-standards.md]

### Testing
- **Framework:** Use the standard Go `testing` package.
- **File Convention:** Test files must be named `_test.go`.
- **Location:** Test files must be in the same package as the code they test.
- **Coverage:** Aim for 80% unit test coverage.
- **AAA Pattern:** Tests should follow the Arrange, Act, Assert pattern.

[Source: docs/architecture/13-test-strategy-and-standards.md]

## Dev Agent Record

### File List
- `go.mod`
- `cmd/kube-kg/main.go`
- `internal/config/config.go`
- `internal/config/config_test.go`

## Change Log

| Date       | Version | Description                | Author |
| :--------- | :------ | :------------------------- | :----- |
| 2025-09-18 | 1.0     | Initial draft of the story. | Bob    |
